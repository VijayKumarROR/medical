
<h1>Patients</h1>

<table class="display" id="patient_table">
  <thead>
    <tr>
      <th>Nos</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
  <% if @patients.present? %>
	  <% @patients.each_with_index do |patient,index| %>
		    <tr>
		      <td scope="row"><%= index+1 %></td>
		      <td><%= patient.first_name %></td>
		      <td><%= patient.last_name %></td>
		      <td><%= patient.email %></td>
		      <td><%= link_to "Add Reports", report_patient_path(patient.id) %> | <%= link_to "Edit Reports", report_path(patient.id) %> | <%= link_to 'Edit', edit_patient_path(patient) %> | <%= link_to 'Delete', "/patients/#{patient.id}", method: :delete ,data: {confirm: "Are you sure?"} %></td>		    
		    </tr>
		 <% end %>
	<% else %>
		<tr><th colspan="5">No patients</th></tr>
	<% end %>
  </tbody>
</table>

<div class="row">
	<div class="col-sm-4">
		<%= link_to 'Export as CSV', export_options_patients_path(type: 'csv', format: 'csv'), method: :post, class: 'btn btn-success' %>
	</div>
	<div class="col-sm-4">
		<%= link_to 'Export as JSON', export_options_patients_path(type: 'json'), method: :post, class: 'btn btn-success' %>
	</div>
</div><br>


<div class="log">
	<%= link_to 'Add Patients', new_patient_path, class: 'btn btn-primary' %>
</div>


<script type="text/javascript">
	$(document).ready( function () {
    	$('#patient_table').DataTable();
	} );
</script>